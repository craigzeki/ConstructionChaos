\hypertarget{class_stick_movement}{}\doxysection{Stick\+Movement Class Reference}
\label{class_stick_movement}\index{StickMovement@{StickMovement}}


Inheritance diagram for Stick\+Movement\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=174pt]{class_stick_movement__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Stick\+Movement\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_stick_movement__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_stick_movement_aeb592dabc8b02b24199fb05de26c2c44}{Do\+Collapse}} (bool collapse, bool break\+Apart)
\item 
bool \mbox{\hyperlink{class_stick_movement_a49a064ea620f39535e1b0d4e85e768cc}{Is\+On\+Ground}} (Collider2D other=null)
\begin{DoxyCompactList}\small\item\em Check if the user is contacting the ground. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_ragdoll}{Ragdoll}}}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_ragdoll_a386206900b13d3727f54d3df33dcfd17}{Reset\+Local\+Position}} ()
\item 
void \mbox{\hyperlink{class_ragdoll_a9c609d3fa00d9066e88237f21f598fc8}{On\+Collapse}} ((bool collapse, bool break\+Apart) collapse\+Info)
\begin{DoxyCompactList}\small\item\em Receives a broadcast message indicating the player has collapsed and sets the internal state accordingly. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
override void \mbox{\hyperlink{class_stick_movement_a7ef40d8fcea39120bd96eaa364610463}{Awake}} ()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{class_ragdoll_a110adc2ea8abf45aed55ed08aca51e4d}{Awake}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_stick_movement_afb8a17bace38c3a570a013e9c727f876}{Fixed\+Update}} ()
\item 
void \mbox{\hyperlink{class_stick_movement_aeb97f01def2c5c3460fa8d12fd396963}{Limit\+Velocity}} ()
\item 
void \mbox{\hyperlink{class_stick_movement_a046371064fa68f3d5d80c8539dde1f56}{Handle\+Movement\+And\+Jump}} (\mbox{\hyperlink{struct_character_input_data}{Character\+Input\+Data}} character\+Input\+Data)
\begin{DoxyCompactList}\small\item\em Moves the player on the server. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_stick_movement_a5f9553d5a7655471aad25dc79e12b0fd}{Is\+Holding\+Ledge}} ()
\item 
void \mbox{\hyperlink{class_stick_movement_ab2d99d8f68feb3864a02ad4e4b58d378}{Release\+Ledge}} ()
\item 
IEnumerator \mbox{\hyperlink{class_stick_movement_ae03fa1787b4a1f5f4fd11208330005ad}{Wait\+To\+Jump\+Again}} ()
\begin{DoxyCompactList}\small\item\em Wait for a set number of physics frames before allowing the player to jump again. \end{DoxyCompactList}\item 
IEnumerator \mbox{\hyperlink{class_stick_movement_ac2b37d327fcfc3141f92d54ece98c06d}{Move\+Right}} (float seconds)
\begin{DoxyCompactList}\small\item\em Move the legs using force -\/ leg angles are changed in the animator. \end{DoxyCompactList}\item 
IEnumerator \mbox{\hyperlink{class_stick_movement_a34744cfccf0c3817cc7f93a95289d68d}{Move\+Left}} (float seconds)
\begin{DoxyCompactList}\small\item\em Move the legs using force -\/ leg angles are changed in the animator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_stick_movement_a66fb6dc23b14f22c26cc3e4da6061f8c}\label{class_stick_movement_a66fb6dc23b14f22c26cc3e4da6061f8c}} 
float {\bfseries \+\_\+speed} = 1.\+5f
\item 
\mbox{\Hypertarget{class_stick_movement_a542662503670b5ca108af9ea42f5ba86}\label{class_stick_movement_a542662503670b5ca108af9ea42f5ba86}} 
float {\bfseries \+\_\+max\+Velocity} = 23f
\item 
\mbox{\Hypertarget{class_stick_movement_abed942d3176dc3cec61ef06543762448}\label{class_stick_movement_abed942d3176dc3cec61ef06543762448}} 
float {\bfseries \+\_\+step\+Wait} = 0.\+5f
\item 
\mbox{\Hypertarget{class_stick_movement_a88c6b3c426ee3225b996111b73a3486b}\label{class_stick_movement_a88c6b3c426ee3225b996111b73a3486b}} 
float {\bfseries \+\_\+jump\+Force} = 10f
\item 
\mbox{\Hypertarget{class_stick_movement_a9bc8c4ca856758a9a3dea0627e193ac7}\label{class_stick_movement_a9bc8c4ca856758a9a3dea0627e193ac7}} 
float {\bfseries \+\_\+position\+Radius}
\item 
\mbox{\Hypertarget{class_stick_movement_a1cb0a23c4cb757a8677def96247dd94e}\label{class_stick_movement_a1cb0a23c4cb757a8677def96247dd94e}} 
Layer\+Mask {\bfseries \+\_\+ground\+Layer\+Mask}
\item 
\mbox{\Hypertarget{class_stick_movement_adad3b29f2e1f65349f1ddf586e47ddc8}\label{class_stick_movement_adad3b29f2e1f65349f1ddf586e47ddc8}} 
List$<$ Transform $>$ {\bfseries \+\_\+ground\+Positions}
\item 
\mbox{\Hypertarget{class_stick_movement_a5023dcfdba40ddeea504dfae6c5aac93}\label{class_stick_movement_a5023dcfdba40ddeea504dfae6c5aac93}} 
Rigidbody2D {\bfseries \+\_\+left\+Leg\+RB}
\item 
\mbox{\Hypertarget{class_stick_movement_a0ed658e16ef7201b2a594c35b783d23a}\label{class_stick_movement_a0ed658e16ef7201b2a594c35b783d23a}} 
Rigidbody2D {\bfseries \+\_\+right\+Leg\+RB}
\item 
\mbox{\Hypertarget{class_stick_movement_a7f386ad9277e40a8e8920ff1f4d4d620}\label{class_stick_movement_a7f386ad9277e40a8e8920ff1f4d4d620}} 
Rigidbody2D {\bfseries \+\_\+body\+RB}
\item 
\mbox{\Hypertarget{class_stick_movement_a29f55f6af85e27958c7ce72d0c853c50}\label{class_stick_movement_a29f55f6af85e27958c7ce72d0c853c50}} 
float {\bfseries \+\_\+vertical\+Min\+Value} = 0.\+5f
\item 
\mbox{\Hypertarget{class_stick_movement_aa474169d34568c94bbae1dff9d11885e}\label{class_stick_movement_aa474169d34568c94bbae1dff9d11885e}} 
uint {\bfseries \+\_\+time\+Between\+Jumps\+In\+Physics\+Frames} = 10
\item 
\mbox{\Hypertarget{class_stick_movement_aadf7b944f82df4806c8c2af19e0ba95a}\label{class_stick_movement_aadf7b944f82df4806c8c2af19e0ba95a}} 
Animator {\bfseries \+\_\+anim}
\item 
\mbox{\Hypertarget{class_stick_movement_ad7ba6b8341ad1bf27a4f3c8e61d3ffcf}\label{class_stick_movement_ad7ba6b8341ad1bf27a4f3c8e61d3ffcf}} 
Coroutine {\bfseries \+\_\+walk\+Left}
\item 
\mbox{\Hypertarget{class_stick_movement_a7efe20245698510895206c699972522d}\label{class_stick_movement_a7efe20245698510895206c699972522d}} 
Coroutine {\bfseries \+\_\+walk\+Right}
\item 
\mbox{\Hypertarget{class_stick_movement_a28934b54aed252375af11eb1bbc108ec}\label{class_stick_movement_a28934b54aed252375af11eb1bbc108ec}} 
bool {\bfseries \+\_\+collapse} = false
\item 
\mbox{\Hypertarget{class_stick_movement_a09edb58bf96f7ec86cf392a0a7eecdad}\label{class_stick_movement_a09edb58bf96f7ec86cf392a0a7eecdad}} 
bool {\bfseries \+\_\+allowed\+To\+Jump} = true
\item 
\mbox{\Hypertarget{class_stick_movement_af183806dfe701ea7ba94a4803aaacc28}\label{class_stick_movement_af183806dfe701ea7ba94a4803aaacc28}} 
List$<$ \mbox{\hyperlink{class_grab}{Grab}} $>$ {\bfseries \+\_\+grabbers} = new List$<$\mbox{\hyperlink{class_grab}{Grab}}$>$()
\item 
\mbox{\Hypertarget{class_stick_movement_ab511dcd1b858496435d874b7e76e0966}\label{class_stick_movement_ab511dcd1b858496435d874b7e76e0966}} 
float {\bfseries \+\_\+max\+Sqr\+Velocity}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}
\doxysubsubsection*{Public Attributes inherited from \mbox{\hyperlink{class_ragdoll}{Ragdoll}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_ragdoll_ae120b5caa1f4e32e2df5d94659660e47}\label{class_ragdoll_ae120b5caa1f4e32e2df5d94659660e47}} 
ulong {\bfseries Client\+Id}
\item 
\mbox{\Hypertarget{class_ragdoll_ac345af1e15c222b4abcb47090001eac5}\label{class_ragdoll_ac345af1e15c222b4abcb47090001eac5}} 
\mbox{\hyperlink{class_objective_action_reporter}{Objective\+Action\+Reporter}} {\bfseries Objective\+Action\+Reporter}
\item 
\mbox{\Hypertarget{class_ragdoll_acaaa2340a31b2cab040df748984d90dd}\label{class_ragdoll_acaaa2340a31b2cab040df748984d90dd}} 
\mbox{\hyperlink{class_character_input_handler}{Character\+Input\+Handler}} {\bfseries Character\+Input\+Handler}
\begin{DoxyCompactList}\small\item\em A reference to this characters input handler, usually found on the parent of the player character prefab. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_ragdoll_aa20102c2e3c74be6bd44d84503a5d663}\label{class_ragdoll_aa20102c2e3c74be6bd44d84503a5d663}} 
\mbox{\hyperlink{class_stick_movement}{Stick\+Movement}} {\bfseries Stick\+Movement}
\begin{DoxyCompactList}\small\item\em A reference to the top level movement controller -\/ used to initiate collapse from other body parts. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_ragdoll}{Ragdoll}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_ragdoll_acbe21edc246bbc1a07f9d7ad3aef7ed0}\label{class_ragdoll_acbe21edc246bbc1a07f9d7ad3aef7ed0}} 
bool {\bfseries \+\_\+is\+Active} = true
\begin{DoxyCompactList}\small\item\em Is the ragdoll \textquotesingle{}active\textquotesingle{} -\/ if not, it is collapsed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_ragdoll_aa9d2d6547a221a337ae4e8ef24790021}\label{class_ragdoll_aa9d2d6547a221a337ae4e8ef24790021}} 
bool {\bfseries \+\_\+is\+Broken} = false
\begin{DoxyCompactList}\small\item\em Is the ragdoll \textquotesingle{}broken\textquotesingle{}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_stick_movement_a7ef40d8fcea39120bd96eaa364610463}\label{class_stick_movement_a7ef40d8fcea39120bd96eaa364610463}} 
\index{StickMovement@{StickMovement}!Awake@{Awake}}
\index{Awake@{Awake}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{Awake()}{Awake()}}
{\footnotesize\ttfamily override void Stick\+Movement.\+Awake (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_ragdoll}{Ragdoll}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \ \ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//not\ calling\ base.Awake()\ as\ do\ not\ need\ the\ ragdoll\ effects,\ only\ access\ to\ set\ the\ collapse\ feature}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ all\ the\ ragdoll\ parts\ and\ set\ the\ input\ handler}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ragdoll}{Ragdoll}}[]\ ragdolls\ =\ GetComponentsInChildren<Ragdoll>();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <\ ragdolls.Length;\ i++)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ ragdolls[i].\mbox{\hyperlink{class_ragdoll_acaaa2340a31b2cab040df748984d90dd}{CharacterInputHandler}}\ =\ \mbox{\hyperlink{class_ragdoll_acaaa2340a31b2cab040df748984d90dd}{CharacterInputHandler}};}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ ragdolls[i].\mbox{\hyperlink{class_ragdoll_aa20102c2e3c74be6bd44d84503a5d663}{StickMovement}}\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \_grabbers\ =\ GetComponentsInChildren<Grab>().ToList<\mbox{\hyperlink{class_grab}{Grab}}>();}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \_maxSqrVelocity\ =\ \_maxVelocity\ *\ \_maxVelocity;}
\DoxyCodeLine{00053\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_aeb592dabc8b02b24199fb05de26c2c44}\label{class_stick_movement_aeb592dabc8b02b24199fb05de26c2c44}} 
\index{StickMovement@{StickMovement}!DoCollapse@{DoCollapse}}
\index{DoCollapse@{DoCollapse}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{DoCollapse()}{DoCollapse()}}
{\footnotesize\ttfamily void Stick\+Movement.\+Do\+Collapse (\begin{DoxyParamCaption}\item[{bool}]{collapse,  }\item[{bool}]{break\+Apart }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \_collapse\ =\ collapse;}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ gameObject.BroadcastMessage(\textcolor{stringliteral}{"{}OnCollapse"{}},\ (collapse,\ breakApart));}
\DoxyCodeLine{00069\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_afb8a17bace38c3a570a013e9c727f876}\label{class_stick_movement_afb8a17bace38c3a570a013e9c727f876}} 
\index{StickMovement@{StickMovement}!FixedUpdate@{FixedUpdate}}
\index{FixedUpdate@{FixedUpdate}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{FixedUpdate()}{FixedUpdate()}}
{\footnotesize\ttfamily void Stick\+Movement.\+Fixed\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00056\ \ \ \ \ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsServer)}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_stick_movement_a046371064fa68f3d5d80c8539dde1f56}{HandleMovementAndJump}}(\mbox{\hyperlink{class_character_input_handler}{CharacterInputHandler}}.CharacterInputData);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ LimitVelocity();}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00063\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_a046371064fa68f3d5d80c8539dde1f56}\label{class_stick_movement_a046371064fa68f3d5d80c8539dde1f56}} 
\index{StickMovement@{StickMovement}!HandleMovementAndJump@{HandleMovementAndJump}}
\index{HandleMovementAndJump@{HandleMovementAndJump}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{HandleMovementAndJump()}{HandleMovementAndJump()}}
{\footnotesize\ttfamily void Stick\+Movement.\+Handle\+Movement\+And\+Jump (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_character_input_data}{Character\+Input\+Data}}}]{character\+Input\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Moves the player on the server. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00086\ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Handle\ movement}}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ user\ is\ pressing\ up\ or\ down}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!Mathf.Approximately(characterInputData.\mbox{\hyperlink{struct_character_input_data_a5d375c26c82543e6b7549d381b35d3e3}{MoveVerticalAxis}},\ 0f))}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ axis\ input\ is\ above\ a\ tolerance\ to\ try\ and\ reject\ unintentional\ up\ /\ down\ movement}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ newCollapse\ =\ characterInputData.MoveVerticalAxis\ >=\ \_verticalMinValue\ ?\ false\ :\ characterInputData.MoveVerticalAxis\ <=\ (-\/\_verticalMinValue)\ ?\ \textcolor{keyword}{true}\ :\ \_collapse;}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (newCollapse\ !=\ \_collapse)}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Collapse\ the\ player\ and\ send\ a\ message\ to\ all\ the\ body\ parts\ to\ do\ the\ same}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DoCollapse(newCollapse,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}\_collapse:\ "{}}\ +\ \_collapse.ToString());}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ user\ is\ inputting\ horizontal\ movement}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!Mathf.Approximately(characterInputData.\mbox{\hyperlink{struct_character_input_data_a61444ad8dc71e41e62e33034361ee614}{MoveHorizontalAxis}},\ 0f)\ \&\&\ !\_collapse)}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (characterInputData.\mbox{\hyperlink{struct_character_input_data_a61444ad8dc71e41e62e33034361ee614}{MoveHorizontalAxis}}\ >\ 0)}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Move\ right}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_anim.Play(\textcolor{stringliteral}{"{}WalkRight"{}});}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_walkLeft\ !=\ \textcolor{keyword}{null})\ StopCoroutine(\_walkLeft);}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_walkRight\ =\ StartCoroutine(\mbox{\hyperlink{class_stick_movement_ac2b37d327fcfc3141f92d54ece98c06d}{MoveRight}}(\_stepWait));}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Move\ left}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_anim.Play(\textcolor{stringliteral}{"{}WalkLeft"{}});}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_walkRight\ !=\ \textcolor{keyword}{null})\ StopCoroutine(\_walkRight);}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_walkLeft\ =\ StartCoroutine(\mbox{\hyperlink{class_stick_movement_a34744cfccf0c3817cc7f93a95289d68d}{MoveLeft}}(\_stepWait));}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Idle}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_walkLeft\ !=\ \textcolor{keyword}{null})\ StopCoroutine(\_walkLeft);}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_walkRight\ !=\ \textcolor{keyword}{null})\ StopCoroutine(\_walkRight);}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \_anim.Play(\textcolor{stringliteral}{"{}Idle"{}});}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ user\ can\ and\ is\ requesting\ to\ jump}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{class_stick_movement_a49a064ea620f39535e1b0d4e85e768cc}{IsOnGround}}()\ ||\ IsHoldingLedge())\ \&\&\ !\_collapse\ \&\&\ \_allowedToJump\ \&\&\ characterInputData.\mbox{\hyperlink{struct_character_input_data_a2df8e170322366799f463049c1503300}{JumpValue}})}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Do\ jump}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \_bodyRB.AddForce(Vector2.up\ *\ \_jumpForce);}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ Debug.Log(\textcolor{stringliteral}{"{}Jumped"{}});}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \_allowedToJump\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ holding\ the\ ledge,\ let\ go}}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ ReleaseLedge();}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ StartCoroutine(\mbox{\hyperlink{class_stick_movement_ae03fa1787b4a1f5f4fd11208330005ad}{WaitToJumpAgain}}());}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_a5f9553d5a7655471aad25dc79e12b0fd}\label{class_stick_movement_a5f9553d5a7655471aad25dc79e12b0fd}} 
\index{StickMovement@{StickMovement}!IsHoldingLedge@{IsHoldingLedge}}
\index{IsHoldingLedge@{IsHoldingLedge}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{IsHoldingLedge()}{IsHoldingLedge()}}
{\footnotesize\ttfamily bool Stick\+Movement.\+Is\+Holding\+Ledge (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00143\ \ \ \ \ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ result\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}(\mbox{\hyperlink{class_grab}{Grab}}\ grabber\ \textcolor{keywordflow}{in}\ \_grabbers)}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ result\ |=\ grabber.IsHoldingLedge;}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00150\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_a49a064ea620f39535e1b0d4e85e768cc}\label{class_stick_movement_a49a064ea620f39535e1b0d4e85e768cc}} 
\index{StickMovement@{StickMovement}!IsOnGround@{IsOnGround}}
\index{IsOnGround@{IsOnGround}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{IsOnGround()}{IsOnGround()}}
{\footnotesize\ttfamily bool Stick\+Movement.\+Is\+On\+Ground (\begin{DoxyParamCaption}\item[{Collider2D}]{other = {\ttfamily null} }\end{DoxyParamCaption})}



Check if the user is contacting the ground. 

\begin{DoxyReturn}{Returns}
True\+: Player is on the ground~\newline
False\+: Player is not on the ground
\end{DoxyReturn}
This needs to get all of the colliders because it will always return your own colliders The other option is to set the legs and feet to a different layer to the rest of the body
\begin{DoxyCode}{0}
\DoxyCodeLine{00165\ \ \ \ \ \{}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ each\ ground\ point,\ if\ any\ are\ contacting\ the\ ground,\ set\ isOnGround\ =\ true}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (Transform\ t\ \textcolor{keywordflow}{in}\ \_groundPositions)}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ all\ the\ colliders\ in\ the\ ground\ position}}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ Collider2D[]\ colliders\ =\ Physics2D.OverlapCircleAll(t.position,\ \_positionRadius,\ \_groundLayerMask);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (Collider2D\ collider\ \textcolor{keywordflow}{in}\ colliders)}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ collider\ is\ attached\ to\ the\ player,\ ignore\ it}}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (collider.transform.parent\ ==\ transform)}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ collider\ is\ the\ one\ we\ are\ checking\ against,\ return\ true}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (other\ !=\ \textcolor{keyword}{null}\ \&\&\ collider\ ==\ other)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ are\ checking\ against\ a\ specific\ collider\ but\ are\ colliding\ with\ another\ collider\ then\ don't\ return\ true}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (other\ !=\ \textcolor{keyword}{null}\ \&\&\ collider\ !=\ \textcolor{keyword}{null})\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ are\ not\ checking\ against\ a\ specific\ collider\ but\ have\ collided,\ return\ true}}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (other\ ==\ \textcolor{keyword}{null}\ \&\&\ collider\ !=\ \textcolor{keyword}{null})\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00192\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_aeb97f01def2c5c3460fa8d12fd396963}\label{class_stick_movement_aeb97f01def2c5c3460fa8d12fd396963}} 
\index{StickMovement@{StickMovement}!LimitVelocity@{LimitVelocity}}
\index{LimitVelocity@{LimitVelocity}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{LimitVelocity()}{LimitVelocity()}}
{\footnotesize\ttfamily void Stick\+Movement.\+Limit\+Velocity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00072\ \ \ \ \ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \_maxSqrVelocity\ =\ \_maxVelocity\ *\ \_maxVelocity;}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_bodyRB.velocity.sqrMagnitude\ >\ \_maxSqrVelocity)}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \_bodyRB.velocity\ =\ \_bodyRB.velocity.normalized\ *\ \_maxVelocity;}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Debug.Log("{}LIMITED\ VELOCITY\ to\ "{}\ +\ \_bodyRB.velocity);}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00080\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_a34744cfccf0c3817cc7f93a95289d68d}\label{class_stick_movement_a34744cfccf0c3817cc7f93a95289d68d}} 
\index{StickMovement@{StickMovement}!MoveLeft@{MoveLeft}}
\index{MoveLeft@{MoveLeft}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{MoveLeft()}{MoveLeft()}}
{\footnotesize\ttfamily IEnumerator Stick\+Movement.\+Move\+Left (\begin{DoxyParamCaption}\item[{float}]{seconds }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Move the legs using force -\/ leg angles are changed in the animator. 


\begin{DoxyParams}{Parameters}
{\em seconds} & time between moving each leg\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00226\ \ \ \ \ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \_rightLegRB.AddForce(Vector2.left\ *\ (\_speed\ *\ 1000)\ *\ Time.fixedDeltaTime);}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ yield\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ WaitForSeconds(seconds);}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \_leftLegRB.AddForce(Vector2.left\ *\ (\_speed\ *\ 1000)\ *\ Time.fixedDeltaTime);}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ yield\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ WaitForSeconds(seconds);}
\DoxyCodeLine{00231\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_ac2b37d327fcfc3141f92d54ece98c06d}\label{class_stick_movement_ac2b37d327fcfc3141f92d54ece98c06d}} 
\index{StickMovement@{StickMovement}!MoveRight@{MoveRight}}
\index{MoveRight@{MoveRight}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{MoveRight()}{MoveRight()}}
{\footnotesize\ttfamily IEnumerator Stick\+Movement.\+Move\+Right (\begin{DoxyParamCaption}\item[{float}]{seconds }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Move the legs using force -\/ leg angles are changed in the animator. 


\begin{DoxyParams}{Parameters}
{\em seconds} & time between moving each leg\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00213\ \ \ \ \ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \_leftLegRB.AddForce(Vector2.right\ *\ (\_speed\ *\ 1000)\ *\ Time.fixedDeltaTime);}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ yield\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ WaitForSeconds(seconds);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \_rightLegRB.AddForce(Vector2.right\ *\ (\_speed\ *\ 1000)\ *\ Time.fixedDeltaTime);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ yield\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ WaitForSeconds(seconds);}
\DoxyCodeLine{00218\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_ab2d99d8f68feb3864a02ad4e4b58d378}\label{class_stick_movement_ab2d99d8f68feb3864a02ad4e4b58d378}} 
\index{StickMovement@{StickMovement}!ReleaseLedge@{ReleaseLedge}}
\index{ReleaseLedge@{ReleaseLedge}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{ReleaseLedge()}{ReleaseLedge()}}
{\footnotesize\ttfamily void Stick\+Movement.\+Release\+Ledge (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00153\ \ \ \ \ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}(\mbox{\hyperlink{class_grab}{Grab}}\ grabber\ \textcolor{keywordflow}{in}\ \_grabbers)}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (grabber.IsHoldingLedge)\ grabber.Release\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stick_movement_ae03fa1787b4a1f5f4fd11208330005ad}\label{class_stick_movement_ae03fa1787b4a1f5f4fd11208330005ad}} 
\index{StickMovement@{StickMovement}!WaitToJumpAgain@{WaitToJumpAgain}}
\index{WaitToJumpAgain@{WaitToJumpAgain}!StickMovement@{StickMovement}}
\doxysubsubsection{\texorpdfstring{WaitToJumpAgain()}{WaitToJumpAgain()}}
{\footnotesize\ttfamily IEnumerator Stick\+Movement.\+Wait\+To\+Jump\+Again (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Wait for a set number of physics frames before allowing the player to jump again. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00198\ \ \ \ \ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \_timeBetweenJumpsInPhysicsFrames;\ i++)}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ yield\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ WaitForFixedUpdate();}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \_allowedToJump\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00205\ \ \ \ \ \}}

\end{DoxyCode}
